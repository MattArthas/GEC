CREATE TABLE GEC_LENDER_AVAILABILITY_ARCHV
(
LENDER_AVAILABILITY_ID	NUMBER(38),
ASSET_ID	NUMBER(38),
BROKER_CD	VARCHAR2(6),
LEGAL_ENTITY_ID	NUMBER(10),
AVAIL_QTY	NUMBER(38),
INDICATIVE_RATE	VARCHAR2(10),
FUND_CD	VARCHAR2(4),
RECLAIM_RATE	NUMBER(9,8),
CREATED_DATETIME	DATE,
STATUS	VARCHAR2(1),
CREATED_AT	DATE,
CREATED_BY	VARCHAR2(64),
SOURCE_CD	VARCHAR2(64),
LAST_UPDATED_BY       	VARCHAR2(64),
LAST_UPDATED_AT       	DATE,
POSITION_FLAG         	VARCHAR2(2),
RESTRICTION_CD        	VARCHAR2(1)  DEFAULT '0',
ORDER_EXP_DATE			NUMBER(8),
LEGAL_ENTITY_CD			VARCHAR2(40),
INDICATIVE_RATE_NUMBER	NUMBER(36,6)
) TABLESPACE GEC
;

COMMENT ON TABLE GEC_LENDER_AVAILABILITY_ARCHV
  IS 'This table is used for store archive availabilities from lender view';
  
COMMENT ON COLUMN GEC_LENDER_AVAILABILITY_ARCHV.BROKER_CD
  IS 'Values come from BROKER_CD on GEC_BROKER table.';
  
COMMENT ON COLUMN GEC_LENDER_AVAILABILITY_ARCHV.RECLAIM_RATE
  IS 'The same as dividend rate. Allow user to input 9(3)V9(6) from UI , and store the value divide 100 to DB.';
  
COMMENT ON COLUMN GEC_LENDER_AVAILABILITY_ARCHV.STATUS
  IS 'Values: I-active, A-ctive.';
  
COMMENT ON COLUMN GEC_LENDER_AVAILABILITY_ARCHV.SOURCE_CD
  IS 'Valuses: SFA, External. SFA means availabilities come from DML file, External means availabilities come from Equilend availability message.';

COMMENT ON COLUMN GEC_LENDER_AVAILABILITY_ARCHV.ORDER_EXP_DATE
  IS 'It is only used for External Lender availability expire.';
  
COMMENT ON COLUMN GEC_LENDER_AVAILABILITY_ARCHV.INDICATIVE_RATE_NUMBER
  IS 'It is the number type of indicative rate.';
    
alter table GEC_LENDER_AVAILABILITY_ARCHV
  ADD CONSTRAINT GEC_LENDER_AVAIL_ARCHV_PK PRIMARY KEY (LENDER_AVAILABILITY_ID)  USING INDEX TABLESPACE  GEC;

alter table GEC_LENDER_AVAILABILITY_ARCHV
  add constraint GEC_LENDER_AVAIL_ARCHV_FK1 foreign key (ASSET_ID)
  REFERENCES GEC_ASSET (ASSET_ID);