CREATE TABLE GEC_G1_RETURN_LENDER_ACCEPT
(
  G1_RETURN_LENDER_ACCEPT_ID	NUMBER(38),
  G1_RETURN_DETAIL_ID	NUMBER(38),
  QTY				NUMBER(38),
  TRADE_DATE		NUMBER(8),
  SETTLE_DATE		NUMBER(8),
  EQL_RETURN_ID		NUMBER(15),
  LEND_SETTLE_INSTR_ID	VARCHAR2(10),
  BORR_SETTLE_INSTR_ID	VARCHAR2(10), 
  GEC_STATUS		VARCHAR2(2),
  GEC_STATUS_MSG	VARCHAR2(64),
  EQL_STATUS		VARCHAR2(2),
  EQL_STATUS_MSG	VARCHAR2(64),
  EQL_UPDATE_REASON_CD		VARCHAR2(2),
  EQL_UPDATE_REASON_COMMENT	VARCHAR2(128),
  UPDATED_AT            DATE DEFAULT SYSDATE,
  UPDATED_BY            VARCHAR2(64),
  LAST_UPDATED_BY   VARCHAR2(64),
  LAST_UPDATED_AT   DATE
)TABLESPACE GEC;

COMMENT ON TABLE GEC_G1_RETURN_LENDER_ACCEPT
  IS 'This table is used to store the accept return information from Equilend.';
COMMENT ON COLUMN GEC_G1_RETURN_LENDER_ACCEPT.GEC_STATUS  
  IS 'Values:P-ending, I-nF-light, S-ent, A-ccepted, M-odified, P-endingC-ancel, C-ancelled';
COMMENT ON COLUMN GEC_G1_RETURN_LENDER_ACCEPT.GEC_STATUS_MSG  
  IS 'Values:Pending, In-Flight, Sent, Accepted, Modified, Pending Cancel, Cancelled';
COMMENT ON COLUMN GEC_G1_RETURN_LENDER_ACCEPT.EQL_STATUS  
  IS 'Values:I-nF-flight, S-ent, A-ccepted, R-ejected, P-endingC-ancel, C-ancelled';
COMMENT ON COLUMN GEC_G1_RETURN_LENDER_ACCEPT.EQL_STATUS_MSG  
  IS 'Values:In-Flight, Sent, Accepted, Rejected, Pending Cancel, Cancelled';
COMMENT ON COLUMN GEC_G1_RETURN_LENDER_ACCEPT.EQL_UPDATE_REASON_CD  
  IS 'Values:  CU | PC | TD | IQ | IS | CA | CV | UD | DN | DS | OT | RE | SR | SN, used to populate updateReason field in RTAC/CA message.';
COMMENT ON COLUMN GEC_G1_RETURN_LENDER_ACCEPT.EQL_UPDATE_REASON_COMMENT  
  IS 'Used to populate narrative field in RTAC/CA message.';
    
ALTER TABLE GEC_G1_RETURN_LENDER_ACCEPT ADD CONSTRAINTS GEC_G1_RETURN_LENDER_ACPT_PK
  PRIMARY KEY(G1_RETURN_LENDER_ACCEPT_ID) USING INDEX TABLESPACE GEC;

ALTER TABLE GEC_G1_RETURN_LENDER_ACCEPT
  ADD CONSTRAINT GEC_G1_RETURN_LENDER_ACPT_FK1 FOREIGN KEY (G1_RETURN_DETAIL_ID)
  REFERENCES GEC_G1_RETURN_DETAIL (G1_RETURN_DETAIL_ID);
  
ALTER TABLE GEC_G1_RETURN_LENDER_ACCEPT
  ADD CONSTRAINT GEC_G1_RTN_LENDER_ACCEPT_UK1 UNIQUE (G1_RETURN_DETAIL_ID,EQL_RETURN_ID);
  