CREATE TABLE GEC_FLIP_TRADE
(
FLIP_TRADE_ID	NUMBER(38),
ASSET_ID	NUMBER(38),
TRANSACTION_CD	VARCHAR2(20),
TRADE_COUNTRY_CD	VARCHAR2(3),
TRADE_DATE	NUMBER(8),
SETTLE_DATE	NUMBER(8),
MIN_QTY	NUMBER(38),
INC_QTY	NUMBER(38),
SHARE_QTY	NUMBER(38),
EXPORT_STATUS	VARCHAR2(1) DEFAULT 'N' NOT NULL,
RECALL_FLAG	VARCHAR2(1) DEFAULT 'N' NOT NULL,
FILLED_QTY	NUMBER(38),
STATUS	VARCHAR2(1),
RECALL_DUE_DATE	NUMBER(8),
BORROW_RETURN_CPTY	VARCHAR2(6),
SSGM_LOAN_QTY	NUMBER(38) DEFAULT 0,
SSGM_LOAN_RETURN_QTY	NUMBER(38) DEFAULT 0,
NSB_LOAN_RATE	NUMBER(14,6),
RECALL_COMMENT_TXT	VARCHAR2(4000),
RETURN_BARGAIN_REF	VARCHAR2(200),
RETURN_BRANCH_CD	VARCHAR2(10),
LAST_UPDATED_AT	DATE,
LAST_UPDATED_BY	VARCHAR2(64)
) TABLESPACE GEC
;

COMMENT ON TABLE GEC_FLIP_TRADE
  IS 'This table is used for store flip trade information.';
  
COMMENT ON COLUMN GEC_FLIP_TRADE.TRANSACTION_CD
  IS 'Values: FT';
  
COMMENT ON COLUMN GEC_FLIP_TRADE.EXPORT_STATUS
  IS 'Values: N-ew, I(In-Flight), R-esponsed';
  
COMMENT ON COLUMN GEC_FLIP_TRADE.RECALL_FLAG
  IS 'Values: Y-es, N-o';
  
COMMENT ON COLUMN GEC_FLIP_TRADE.STATUS
  IS 'Values: P-ending, M-nual, C-anceled.';
  
COMMENT ON COLUMN GEC_FLIP_TRADE.NSB_LOAN_RATE
  IS 'The same as Fee / Rebate.';
  
COMMENT ON COLUMN GEC_FLIP_TRADE.RETURN_BARGAIN_REF
  IS 'Borrow bargain references which user want to apply the borrow return, and multiple return bargain references separated with comma. Value to include G1 instance + Bargain Ref no.';

COMMENT ON COLUMN GEC_FLIP_TRADE.RETURN_BRANCH_CD
  IS 'Refer to GEC_BRANCH table.';
  
ALTER TABLE GEC_FLIP_TRADE
  ADD CONSTRAINT GEC_FLIP_TRADE_PK PRIMARY KEY (FLIP_TRADE_ID)  USING INDEX TABLESPACE  GEC;

ALTER TABLE GEC_FLIP_TRADE
  ADD CONSTRAINT GEC_FLIP_TRADE_FK1 FOREIGN KEY (ASSET_ID)
  REFERENCES GEC_ASSET (ASSET_ID);
  
create index GEC_FLIP_TRADE_IDX1 on GEC_FLIP_TRADE(ASSET_ID, TRADE_COUNTRY_CD, SETTLE_DATE, RECALL_DUE_DATE) TABLESPACE GEC;