create table GEC_LOAN
(
  LOAN_ID                NUMBER(38) not null,
  ASSET_ID               NUMBER(38) not null,
  FUND_CD                VARCHAR2(4),
  TRADE_DATE             NUMBER(8),
  SETTLE_DATE            NUMBER(8),
  COLLATERAL_TYPE        VARCHAR2(1),
  COLLATERAL_CURRENCY_CD VARCHAR2(3),
  LOAN_QTY               NUMBER(38),
  RATE                   NUMBER(14,6),
  PRICE                  NUMBER(28,6),
  BORROW_REQUEST_TYPE    VARCHAR2(250),
  G1_EXTRACTED_AT        DATE,
  LINK_REFERENCE         VARCHAR2(8),
  CREATED_AT             DATE default SYSDATE,
  CREATED_BY             VARCHAR2(64),
  UPDATED_AT             DATE default SYSDATE,
  UPDATED_BY             VARCHAR2(64),
  TYPE                   VARCHAR2(10) default 'COMMON' not null,
  STATUS                 VARCHAR2(1) not null,
  PREPAY_DATE	         NUMBER(8),
  PREPAY_RATE	         NUMBER(14,6), 
  RECLAIM_RATE	         NUMBER(9,8),
  OVERSEAS_TAX_PERCENTAGE NUMBER(9,8),
  DOMESTIC_TAX_PERCENTAGE NUMBER(9,8),
  MINIMUM_FEE	         NUMBER(14,2),
  MINIMUM_FEE_CD         VARCHAR2(3),
  COUNTERPARTY_CD	     VARCHAR2(6),
  COLLATERAL_PERCENTAGE	     NUMBER(7,6),
  LAST_UPDATED_AT        DATE,
  LAST_UPDATED_BY        VARCHAR2(64),
  G1_EXTRACTED_BY		 VARCHAR2(64),
  TERM_DATE              NUMBER(8),
  EXPECTED_RETURN_DATE	NUMBER(8),
  CROSS_TRADE_FLAG		 VARCHAR2(1) default 'N',
  COMMENT_TXT		     VARCHAR2(4000)
)tablespace GEC;

comment on column GEC_LOAN.LOAN_ID
  is 'sequence id';
comment on column GEC_LOAN.G1_EXTRACTED_AT
  is 'The datetime that the loan is exported to G1 for booking.';
comment on column GEC_LOAN.TYPE
  is 'Values: COMMON, PRE-LOAN(For DESHAW workfow)';
comment on column GEC_LOAN.BORROW_REQUEST_TYPE
  is 'SB, NSB';
comment on column GEC_LOAN.PREPAY_DATE
  is 'It come from allocation"s PREPAY_DATE to book G1 loan';
comment on column GEC_LOAN.PREPAY_RATE
  is 'It come from allocation"s PREPAY_RATE to book G1 loan';
comment on column GEC_LOAN.RECLAIM_RATE
  is 'It come from allocation"s RECLAIM_RATE to book G1 loan'; 
comment on column GEC_LOAN.OVERSEAS_TAX_PERCENTAGE
  is 'It come from allocation"s OVERSEAS_TAX_PERCENTAGE to book G1 loan';
comment on column GEC_LOAN.COUNTERPARTY_CD
  is 'It come from GEC_COUNTERPARTY_CD"s COUNTERPARTY_CD';
comment on column GEC_LOAN.COLLATERAL_PERCENTAGE
  is 'Set value if security trade country is "GB"';  
comment on column GEC_LOAN.CROSS_TRADE_FLAG
  is 'Values: Y, N. A flag to mark the loan is cross loan or not.';         

ALTER TABLE GEC_LOAN
  ADD( CONSTRAINT GEC_LOAN_PK PRIMARY KEY (LOAN_ID)  USING INDEX TABLESPACE  GEC);
  
alter table GEC_LOAN
  add constraint GEC_LOAN_FK1 foreign key (ASSET_ID)
  references GEC_ASSET (ASSET_ID);   
  